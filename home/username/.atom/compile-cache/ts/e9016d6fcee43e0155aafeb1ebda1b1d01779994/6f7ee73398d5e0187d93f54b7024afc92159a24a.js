/**
 * Maintainance:
 * When a new option is added add it to:
 * - the FormatCodeOptions interface
 * - the defaultFormatCodeOptions function
 * - the makeFormatCodeOptions function
 */
var os = require('os');
function defaultFormatCodeOptions() {
    return {
        IndentSize: 4,
        TabSize: 4,
        NewLineCharacter: os.EOL,
        ConvertTabsToSpaces: true,
        IndentStyle: ts.IndentStyle.Smart,
        InsertSpaceAfterCommaDelimiter: true,
        InsertSpaceAfterSemicolonInForStatements: true,
        InsertSpaceBeforeAndAfterBinaryOperators: true,
        InsertSpaceAfterKeywordsInControlFlowStatements: true,
        InsertSpaceAfterFunctionKeywordForAnonymousFunctions: false,
        InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis: false,
        InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets: false,
        InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces: false,
        PlaceOpenBraceOnNewLineForFunctions: false,
        PlaceOpenBraceOnNewLineForControlBlocks: false,
    };
}
exports.defaultFormatCodeOptions = defaultFormatCodeOptions;
function makeFormatCodeOptions(config) {
    var options = defaultFormatCodeOptions();
    if (!config) {
        return options;
    }
    if (typeof config.insertSpaceAfterCommaDelimiter === "boolean") {
        options.InsertSpaceAfterCommaDelimiter = config.insertSpaceAfterCommaDelimiter;
    }
    if (typeof config.insertSpaceAfterSemicolonInForStatements === "boolean") {
        options.InsertSpaceAfterSemicolonInForStatements = config.insertSpaceAfterSemicolonInForStatements;
    }
    if (typeof config.insertSpaceBeforeAndAfterBinaryOperators === "boolean") {
        options.InsertSpaceBeforeAndAfterBinaryOperators = config.insertSpaceBeforeAndAfterBinaryOperators;
    }
    if (typeof config.insertSpaceAfterKeywordsInControlFlowStatements === "boolean") {
        options.InsertSpaceAfterKeywordsInControlFlowStatements = config.insertSpaceAfterKeywordsInControlFlowStatements;
    }
    if (typeof config.insertSpaceAfterFunctionKeywordForAnonymousFunctions === "boolean") {
        options.InsertSpaceAfterFunctionKeywordForAnonymousFunctions = config.insertSpaceAfterFunctionKeywordForAnonymousFunctions;
    }
    if (typeof config.insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis === "boolean") {
        options.InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis = config.insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis;
    }
    if (typeof config.insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets === "boolean") {
        options.InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets = config.insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets;
    }
    if (typeof config.insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces === "boolean") {
        options.InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces = config.insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces;
    }
    if (typeof config.placeOpenBraceOnNewLineForFunctions === "boolean") {
        options.PlaceOpenBraceOnNewLineForFunctions = config.placeOpenBraceOnNewLineForFunctions;
    }
    if (typeof config.placeOpenBraceOnNewLineForControlBlocks === "boolean") {
        options.PlaceOpenBraceOnNewLineForControlBlocks = config.placeOpenBraceOnNewLineForControlBlocks;
    }
    if (typeof config.indentSize === "number") {
        options.IndentSize = config.indentSize;
    }
    if (typeof config.tabSize === "number") {
        options.TabSize = config.tabSize;
    }
    if (typeof config.newLineCharacter === "string") {
        options.NewLineCharacter = config.newLineCharacter;
    }
    if (typeof config.convertTabsToSpaces === "boolean") {
        options.ConvertTabsToSpaces = config.convertTabsToSpaces;
    }
    return options;
}
exports.makeFormatCodeOptions = makeFormatCodeOptions;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvamFtZXMvLmF0b20vcGFja2FnZXMvYXRvbS10eXBlc2NyaXB0L2xpYi9tYWluL3RzY29uZmlnL2Zvcm1hdHRpbmcudHMiLCJzb3VyY2VzIjpbIi9ob21lL2phbWVzLy5hdG9tL3BhY2thZ2VzL2F0b20tdHlwZXNjcmlwdC9saWIvbWFpbi90c2NvbmZpZy9mb3JtYXR0aW5nLnRzIl0sIm5hbWVzIjpbImRlZmF1bHRGb3JtYXRDb2RlT3B0aW9ucyIsIm1ha2VGb3JtYXRDb2RlT3B0aW9ucyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztHQU1HO0FBRUgsSUFBTyxFQUFFLFdBQVcsSUFBSSxDQUFDLENBQUM7QUFzQjFCLFNBQWdCLHdCQUF3QjtJQUNwQ0EsTUFBTUEsQ0FBQ0E7UUFDSEEsVUFBVUEsRUFBRUEsQ0FBQ0E7UUFDYkEsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDVkEsZ0JBQWdCQSxFQUFFQSxFQUFFQSxDQUFDQSxHQUFHQTtRQUN4QkEsbUJBQW1CQSxFQUFFQSxJQUFJQTtRQUN6QkEsV0FBV0EsRUFBRUEsRUFBRUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsS0FBS0E7UUFDakNBLDhCQUE4QkEsRUFBRUEsSUFBSUE7UUFDcENBLHdDQUF3Q0EsRUFBRUEsSUFBSUE7UUFDOUNBLHdDQUF3Q0EsRUFBRUEsSUFBSUE7UUFDOUNBLCtDQUErQ0EsRUFBRUEsSUFBSUE7UUFDckRBLG9EQUFvREEsRUFBRUEsS0FBS0E7UUFDM0RBLDBEQUEwREEsRUFBRUEsS0FBS0E7UUFDakVBLHVEQUF1REEsRUFBRUEsS0FBS0E7UUFDOURBLDJEQUEyREEsRUFBRUEsS0FBS0E7UUFDbEVBLG1DQUFtQ0EsRUFBRUEsS0FBS0E7UUFDMUNBLHVDQUF1Q0EsRUFBRUEsS0FBS0E7S0FDakRBLENBQUNBO0FBQ05BLENBQUNBO0FBbEJlLGdDQUF3QixHQUF4Qix3QkFrQmYsQ0FBQTtBQUVELFNBQWdCLHFCQUFxQixDQUFDLE1BQXlCO0lBQzNEQyxJQUFJQSxPQUFPQSxHQUFHQSx3QkFBd0JBLEVBQUVBLENBQUNBO0lBQ3pDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNWQSxNQUFNQSxDQUFDQSxPQUFPQSxDQUFDQTtJQUNuQkEsQ0FBQ0E7SUFDREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsT0FBT0EsTUFBTUEsQ0FBQ0EsOEJBQThCQSxLQUFLQSxTQUFTQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUM3REEsT0FBT0EsQ0FBQ0EsOEJBQThCQSxHQUFHQSxNQUFNQSxDQUFDQSw4QkFBOEJBLENBQUNBO0lBQ25GQSxDQUFDQTtJQUNEQSxFQUFFQSxDQUFDQSxDQUFDQSxPQUFPQSxNQUFNQSxDQUFDQSx3Q0FBd0NBLEtBQUtBLFNBQVNBLENBQUNBLENBQUNBLENBQUNBO1FBQ3ZFQSxPQUFPQSxDQUFDQSx3Q0FBd0NBLEdBQUdBLE1BQU1BLENBQUNBLHdDQUF3Q0EsQ0FBQ0E7SUFDdkdBLENBQUNBO0lBQ0RBLEVBQUVBLENBQUNBLENBQUNBLE9BQU9BLE1BQU1BLENBQUNBLHdDQUF3Q0EsS0FBS0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDdkVBLE9BQU9BLENBQUNBLHdDQUF3Q0EsR0FBR0EsTUFBTUEsQ0FBQ0Esd0NBQXdDQSxDQUFDQTtJQUN2R0EsQ0FBQ0E7SUFDREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsT0FBT0EsTUFBTUEsQ0FBQ0EsK0NBQStDQSxLQUFLQSxTQUFTQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUM5RUEsT0FBT0EsQ0FBQ0EsK0NBQStDQSxHQUFHQSxNQUFNQSxDQUFDQSwrQ0FBK0NBLENBQUNBO0lBQ3JIQSxDQUFDQTtJQUNEQSxFQUFFQSxDQUFDQSxDQUFDQSxPQUFPQSxNQUFNQSxDQUFDQSxvREFBb0RBLEtBQUtBLFNBQVNBLENBQUNBLENBQUNBLENBQUNBO1FBQ25GQSxPQUFPQSxDQUFDQSxvREFBb0RBLEdBQUdBLE1BQU1BLENBQUNBLG9EQUFvREEsQ0FBQ0E7SUFDL0hBLENBQUNBO0lBQ0RBLEVBQUVBLENBQUNBLENBQUNBLE9BQU9BLE1BQU1BLENBQUNBLDBEQUEwREEsS0FBS0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDekZBLE9BQU9BLENBQUNBLDBEQUEwREEsR0FBR0EsTUFBTUEsQ0FBQ0EsMERBQTBEQSxDQUFDQTtJQUMzSUEsQ0FBQ0E7SUFDREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsT0FBT0EsTUFBTUEsQ0FBQ0EsdURBQXVEQSxLQUFLQSxTQUFTQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUN0RkEsT0FBT0EsQ0FBQ0EsdURBQXVEQSxHQUFHQSxNQUFNQSxDQUFDQSx1REFBdURBLENBQUNBO0lBQ3JJQSxDQUFDQTtJQUNEQSxFQUFFQSxDQUFDQSxDQUFDQSxPQUFPQSxNQUFNQSxDQUFDQSwyREFBMkRBLEtBQUtBLFNBQVNBLENBQUNBLENBQUNBLENBQUNBO1FBQzFGQSxPQUFPQSxDQUFDQSwyREFBMkRBLEdBQUdBLE1BQU1BLENBQUNBLDJEQUEyREEsQ0FBQ0E7SUFDN0lBLENBQUNBO0lBQ0RBLEVBQUVBLENBQUNBLENBQUNBLE9BQU9BLE1BQU1BLENBQUNBLG1DQUFtQ0EsS0FBS0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDbEVBLE9BQU9BLENBQUNBLG1DQUFtQ0EsR0FBR0EsTUFBTUEsQ0FBQ0EsbUNBQW1DQSxDQUFDQTtJQUM3RkEsQ0FBQ0E7SUFDREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsT0FBT0EsTUFBTUEsQ0FBQ0EsdUNBQXVDQSxLQUFLQSxTQUFTQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUN0RUEsT0FBT0EsQ0FBQ0EsdUNBQXVDQSxHQUFHQSxNQUFNQSxDQUFDQSx1Q0FBdUNBLENBQUNBO0lBQ3JHQSxDQUFDQTtJQUNEQSxFQUFFQSxDQUFDQSxDQUFDQSxPQUFPQSxNQUFNQSxDQUFDQSxVQUFVQSxLQUFLQSxRQUFRQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUN4Q0EsT0FBT0EsQ0FBQ0EsVUFBVUEsR0FBR0EsTUFBTUEsQ0FBQ0EsVUFBVUEsQ0FBQ0E7SUFDM0NBLENBQUNBO0lBQ0RBLEVBQUVBLENBQUNBLENBQUNBLE9BQU9BLE1BQU1BLENBQUNBLE9BQU9BLEtBQUtBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBO1FBQ3JDQSxPQUFPQSxDQUFDQSxPQUFPQSxHQUFHQSxNQUFNQSxDQUFDQSxPQUFPQSxDQUFDQTtJQUNyQ0EsQ0FBQ0E7SUFDREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsT0FBT0EsTUFBTUEsQ0FBQ0EsZ0JBQWdCQSxLQUFLQSxRQUFRQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUM5Q0EsT0FBT0EsQ0FBQ0EsZ0JBQWdCQSxHQUFHQSxNQUFNQSxDQUFDQSxnQkFBZ0JBLENBQUNBO0lBQ3ZEQSxDQUFDQTtJQUNEQSxFQUFFQSxDQUFDQSxDQUFDQSxPQUFPQSxNQUFNQSxDQUFDQSxtQkFBbUJBLEtBQUtBLFNBQVNBLENBQUNBLENBQUNBLENBQUNBO1FBQ2xEQSxPQUFPQSxDQUFDQSxtQkFBbUJBLEdBQUdBLE1BQU1BLENBQUNBLG1CQUFtQkEsQ0FBQ0E7SUFDN0RBLENBQUNBO0lBRURBLE1BQU1BLENBQUNBLE9BQU9BLENBQUNBO0FBQ25CQSxDQUFDQTtBQWpEZSw2QkFBcUIsR0FBckIscUJBaURmLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1haW50YWluYW5jZTpcbiAqIFdoZW4gYSBuZXcgb3B0aW9uIGlzIGFkZGVkIGFkZCBpdCB0bzpcbiAqIC0gdGhlIEZvcm1hdENvZGVPcHRpb25zIGludGVyZmFjZVxuICogLSB0aGUgZGVmYXVsdEZvcm1hdENvZGVPcHRpb25zIGZ1bmN0aW9uXG4gKiAtIHRoZSBtYWtlRm9ybWF0Q29kZU9wdGlvbnMgZnVuY3Rpb25cbiAqL1xuXG5pbXBvcnQgb3MgPSByZXF1aXJlKCdvcycpO1xuXG4vLy8gVGhlIGZvbGxvd2luZyB0d28gaW50ZXJmYWNlcyBjb21lIGZyb20gdHlwZXNjcmlwdC5kLnRzIGJ1dCBjYW1lbENhc2VkIGZvciBKU09OIHBhcnNpbmdcbmludGVyZmFjZSBFZGl0b3JPcHRpb25zIHtcbiAgICBpbmRlbnRTaXplOiBudW1iZXI7XG4gICAgdGFiU2l6ZTogbnVtYmVyO1xuICAgIG5ld0xpbmVDaGFyYWN0ZXI6IHN0cmluZztcbiAgICBjb252ZXJ0VGFic1RvU3BhY2VzOiBib29sZWFuO1xufVxuZXhwb3J0IGludGVyZmFjZSBGb3JtYXRDb2RlT3B0aW9ucyBleHRlbmRzIEVkaXRvck9wdGlvbnMge1xuICAgIGluc2VydFNwYWNlQWZ0ZXJDb21tYURlbGltaXRlcjogYm9vbGVhbjtcbiAgICBpbnNlcnRTcGFjZUFmdGVyU2VtaWNvbG9uSW5Gb3JTdGF0ZW1lbnRzOiBib29sZWFuO1xuICAgIGluc2VydFNwYWNlQmVmb3JlQW5kQWZ0ZXJCaW5hcnlPcGVyYXRvcnM6IGJvb2xlYW47XG4gICAgaW5zZXJ0U3BhY2VBZnRlcktleXdvcmRzSW5Db250cm9sRmxvd1N0YXRlbWVudHM6IGJvb2xlYW47XG4gICAgaW5zZXJ0U3BhY2VBZnRlckZ1bmN0aW9uS2V5d29yZEZvckFub255bW91c0Z1bmN0aW9uczogYm9vbGVhbjtcbiAgICBpbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdOb25lbXB0eVBhcmVudGhlc2lzOiBib29sZWFuO1xuICAgIGluc2VydFNwYWNlQWZ0ZXJPcGVuaW5nQW5kQmVmb3JlQ2xvc2luZ05vbmVtcHR5QnJhY2tldHM6IGJvb2xlYW47XG4gICAgaW5zZXJ0U3BhY2VBZnRlck9wZW5pbmdBbmRCZWZvcmVDbG9zaW5nVGVtcGxhdGVTdHJpbmdCcmFjZXM6IGJvb2xlYW47XG4gICAgcGxhY2VPcGVuQnJhY2VPbk5ld0xpbmVGb3JGdW5jdGlvbnM6IGJvb2xlYW47XG4gICAgcGxhY2VPcGVuQnJhY2VPbk5ld0xpbmVGb3JDb250cm9sQmxvY2tzOiBib29sZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEZvcm1hdENvZGVPcHRpb25zKCk6IHRzLkZvcm1hdENvZGVPcHRpb25zIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBJbmRlbnRTaXplOiA0LFxuICAgICAgICBUYWJTaXplOiA0LFxuICAgICAgICBOZXdMaW5lQ2hhcmFjdGVyOiBvcy5FT0wsXG4gICAgICAgIENvbnZlcnRUYWJzVG9TcGFjZXM6IHRydWUsXG4gICAgICAgIEluZGVudFN0eWxlOiB0cy5JbmRlbnRTdHlsZS5TbWFydCxcbiAgICAgICAgSW5zZXJ0U3BhY2VBZnRlckNvbW1hRGVsaW1pdGVyOiB0cnVlLFxuICAgICAgICBJbnNlcnRTcGFjZUFmdGVyU2VtaWNvbG9uSW5Gb3JTdGF0ZW1lbnRzOiB0cnVlLFxuICAgICAgICBJbnNlcnRTcGFjZUJlZm9yZUFuZEFmdGVyQmluYXJ5T3BlcmF0b3JzOiB0cnVlLFxuICAgICAgICBJbnNlcnRTcGFjZUFmdGVyS2V5d29yZHNJbkNvbnRyb2xGbG93U3RhdGVtZW50czogdHJ1ZSxcbiAgICAgICAgSW5zZXJ0U3BhY2VBZnRlckZ1bmN0aW9uS2V5d29yZEZvckFub255bW91c0Z1bmN0aW9uczogZmFsc2UsXG4gICAgICAgIEluc2VydFNwYWNlQWZ0ZXJPcGVuaW5nQW5kQmVmb3JlQ2xvc2luZ05vbmVtcHR5UGFyZW50aGVzaXM6IGZhbHNlLFxuICAgICAgICBJbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdOb25lbXB0eUJyYWNrZXRzOiBmYWxzZSxcbiAgICAgICAgSW5zZXJ0U3BhY2VBZnRlck9wZW5pbmdBbmRCZWZvcmVDbG9zaW5nVGVtcGxhdGVTdHJpbmdCcmFjZXM6IGZhbHNlLFxuICAgICAgICBQbGFjZU9wZW5CcmFjZU9uTmV3TGluZUZvckZ1bmN0aW9uczogZmFsc2UsXG4gICAgICAgIFBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yQ29udHJvbEJsb2NrczogZmFsc2UsXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VGb3JtYXRDb2RlT3B0aW9ucyhjb25maWc6IEZvcm1hdENvZGVPcHRpb25zKTogdHMuRm9ybWF0Q29kZU9wdGlvbnMge1xuICAgIHZhciBvcHRpb25zID0gZGVmYXVsdEZvcm1hdENvZGVPcHRpb25zKCk7XG4gICAgaWYgKCFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29uZmlnLmluc2VydFNwYWNlQWZ0ZXJDb21tYURlbGltaXRlciA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgb3B0aW9ucy5JbnNlcnRTcGFjZUFmdGVyQ29tbWFEZWxpbWl0ZXIgPSBjb25maWcuaW5zZXJ0U3BhY2VBZnRlckNvbW1hRGVsaW1pdGVyO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbmZpZy5pbnNlcnRTcGFjZUFmdGVyU2VtaWNvbG9uSW5Gb3JTdGF0ZW1lbnRzID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBvcHRpb25zLkluc2VydFNwYWNlQWZ0ZXJTZW1pY29sb25JbkZvclN0YXRlbWVudHMgPSBjb25maWcuaW5zZXJ0U3BhY2VBZnRlclNlbWljb2xvbkluRm9yU3RhdGVtZW50cztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb25maWcuaW5zZXJ0U3BhY2VCZWZvcmVBbmRBZnRlckJpbmFyeU9wZXJhdG9ycyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgb3B0aW9ucy5JbnNlcnRTcGFjZUJlZm9yZUFuZEFmdGVyQmluYXJ5T3BlcmF0b3JzID0gY29uZmlnLmluc2VydFNwYWNlQmVmb3JlQW5kQWZ0ZXJCaW5hcnlPcGVyYXRvcnM7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29uZmlnLmluc2VydFNwYWNlQWZ0ZXJLZXl3b3Jkc0luQ29udHJvbEZsb3dTdGF0ZW1lbnRzID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBvcHRpb25zLkluc2VydFNwYWNlQWZ0ZXJLZXl3b3Jkc0luQ29udHJvbEZsb3dTdGF0ZW1lbnRzID0gY29uZmlnLmluc2VydFNwYWNlQWZ0ZXJLZXl3b3Jkc0luQ29udHJvbEZsb3dTdGF0ZW1lbnRzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbmZpZy5pbnNlcnRTcGFjZUFmdGVyRnVuY3Rpb25LZXl3b3JkRm9yQW5vbnltb3VzRnVuY3Rpb25zID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBvcHRpb25zLkluc2VydFNwYWNlQWZ0ZXJGdW5jdGlvbktleXdvcmRGb3JBbm9ueW1vdXNGdW5jdGlvbnMgPSBjb25maWcuaW5zZXJ0U3BhY2VBZnRlckZ1bmN0aW9uS2V5d29yZEZvckFub255bW91c0Z1bmN0aW9ucztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb25maWcuaW5zZXJ0U3BhY2VBZnRlck9wZW5pbmdBbmRCZWZvcmVDbG9zaW5nTm9uZW1wdHlQYXJlbnRoZXNpcyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgb3B0aW9ucy5JbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdOb25lbXB0eVBhcmVudGhlc2lzID0gY29uZmlnLmluc2VydFNwYWNlQWZ0ZXJPcGVuaW5nQW5kQmVmb3JlQ2xvc2luZ05vbmVtcHR5UGFyZW50aGVzaXM7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29uZmlnLmluc2VydFNwYWNlQWZ0ZXJPcGVuaW5nQW5kQmVmb3JlQ2xvc2luZ05vbmVtcHR5QnJhY2tldHMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIG9wdGlvbnMuSW5zZXJ0U3BhY2VBZnRlck9wZW5pbmdBbmRCZWZvcmVDbG9zaW5nTm9uZW1wdHlCcmFja2V0cyA9IGNvbmZpZy5pbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdOb25lbXB0eUJyYWNrZXRzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbmZpZy5pbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdUZW1wbGF0ZVN0cmluZ0JyYWNlcyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgb3B0aW9ucy5JbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdUZW1wbGF0ZVN0cmluZ0JyYWNlcyA9IGNvbmZpZy5pbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdUZW1wbGF0ZVN0cmluZ0JyYWNlcztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb25maWcucGxhY2VPcGVuQnJhY2VPbk5ld0xpbmVGb3JGdW5jdGlvbnMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIG9wdGlvbnMuUGxhY2VPcGVuQnJhY2VPbk5ld0xpbmVGb3JGdW5jdGlvbnMgPSBjb25maWcucGxhY2VPcGVuQnJhY2VPbk5ld0xpbmVGb3JGdW5jdGlvbnM7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29uZmlnLnBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yQ29udHJvbEJsb2NrcyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgb3B0aW9ucy5QbGFjZU9wZW5CcmFjZU9uTmV3TGluZUZvckNvbnRyb2xCbG9ja3MgPSBjb25maWcucGxhY2VPcGVuQnJhY2VPbk5ld0xpbmVGb3JDb250cm9sQmxvY2tzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbmZpZy5pbmRlbnRTaXplID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIG9wdGlvbnMuSW5kZW50U2l6ZSA9IGNvbmZpZy5pbmRlbnRTaXplO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbmZpZy50YWJTaXplID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIG9wdGlvbnMuVGFiU2l6ZSA9IGNvbmZpZy50YWJTaXplO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbmZpZy5uZXdMaW5lQ2hhcmFjdGVyID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG9wdGlvbnMuTmV3TGluZUNoYXJhY3RlciA9IGNvbmZpZy5uZXdMaW5lQ2hhcmFjdGVyO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbmZpZy5jb252ZXJ0VGFic1RvU3BhY2VzID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBvcHRpb25zLkNvbnZlcnRUYWJzVG9TcGFjZXMgPSBjb25maWcuY29udmVydFRhYnNUb1NwYWNlcztcbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cbiJdfQ==
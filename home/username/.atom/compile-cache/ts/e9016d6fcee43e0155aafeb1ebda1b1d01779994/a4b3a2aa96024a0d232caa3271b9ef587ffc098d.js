/// Not useful for user input validation
// But great for simple config validation
// works only by "n" valid options
exports.types = {
    string: 'string',
    boolean: 'boolean',
    number: 'number',
    object: 'object',
    array: 'array'
};
var SimpleValidator = (function () {
    function SimpleValidator(validationInfo) {
        var _this = this;
        this.validationInfo = validationInfo;
        this.potentialLowerCaseMatch = {};
        Object.keys(validationInfo).forEach(function (k) { return _this.potentialLowerCaseMatch[k.toLowerCase()] = k; });
    }
    SimpleValidator.prototype.validate = function (config) {
        var _this = this;
        var keys = Object.keys(config);
        var errors = { invalidValues: [], extraKeys: [], errorMessage: '' };
        keys.forEach(function (k) {
            // Check extra keys
            if (!_this.validationInfo[k]) {
                if (_this.potentialLowerCaseMatch[k]) {
                    errors.extraKeys.push("Key: '" + k + "' is a potential lower case match for '" + _this.potentialLowerCaseMatch[k] + "'. Fix the casing.");
                }
                else {
                    errors.extraKeys.push("Unknown Option: " + k);
                }
            }
            else {
                var validationInfo = _this.validationInfo[k];
                var value = config[k];
                if (validationInfo.type && validationInfo.type === 'array') {
                    if (!Array.isArray(value)) {
                        errors.invalidValues.push("Key: '" + k + "' has an invalid type: " + typeof value);
                    }
                }
                else {
                    if (validationInfo.validValues && validationInfo.validValues.length) {
                        var validValues = validationInfo.validValues;
                        if (!validValues.some(function (valid) { return valid.toLowerCase() === value.toLowerCase(); })) {
                            errors.invalidValues.push("Key: '" + k + "' has an invalid value: " + value);
                        }
                    }
                    if (validationInfo.type && typeof value !== validationInfo.type) {
                        errors.invalidValues.push("Key: '" + k + "' has an invalid type: " + typeof value);
                    }
                }
            }
        });
        var total = errors.invalidValues.concat(errors.extraKeys);
        if (total.length) {
            errors.errorMessage = total.join("\n");
        }
        return errors;
    };
    return SimpleValidator;
})();
exports.SimpleValidator = SimpleValidator;
function createMap(arr) {
    return arr.reduce(function (result, key) {
        result[key] = true;
        return result;
    }, {});
}
exports.createMap = createMap;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvamFtZXMvLmF0b20vcGFja2FnZXMvYXRvbS10eXBlc2NyaXB0L2xpYi9tYWluL3RzY29uZmlnL3NpbXBsZVZhbGlkYXRvci50cyIsInNvdXJjZXMiOlsiL2hvbWUvamFtZXMvLmF0b20vcGFja2FnZXMvYXRvbS10eXBlc2NyaXB0L2xpYi9tYWluL3RzY29uZmlnL3NpbXBsZVZhbGlkYXRvci50cyJdLCJuYW1lcyI6WyJTaW1wbGVWYWxpZGF0b3IiLCJTaW1wbGVWYWxpZGF0b3IuY29uc3RydWN0b3IiLCJTaW1wbGVWYWxpZGF0b3IudmFsaWRhdGUiLCJjcmVhdGVNYXAiXSwibWFwcGluZ3MiOiJBQUFBLHdDQUF3QztBQUN4Qyx5Q0FBeUM7QUFDekMsa0NBQWtDO0FBRXZCLGFBQUssR0FBRztJQUNmLE1BQU0sRUFBRSxRQUFRO0lBQ2hCLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLE1BQU0sRUFBRSxRQUFRO0lBQ2hCLE1BQU0sRUFBRSxRQUFRO0lBQ2hCLEtBQUssRUFBRSxPQUFPO0NBQ2pCLENBQUE7QUFlRCxJQUFhLGVBQWU7SUFHeEJBLFNBSFNBLGVBQWVBLENBR0xBLGNBQThCQTtRQUhyREMsaUJBbURDQTtRQWhEc0JBLG1CQUFjQSxHQUFkQSxjQUFjQSxDQUFnQkE7UUFDN0NBLElBQUlBLENBQUNBLHVCQUF1QkEsR0FBR0EsRUFBRUEsQ0FBQ0E7UUFDbENBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBLE9BQU9BLENBQUNBLFVBQUFBLENBQUNBLElBQUdBLE9BQUFBLEtBQUlBLENBQUNBLHVCQUF1QkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsV0FBV0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBakRBLENBQWlEQSxDQUFDQSxDQUFDQTtJQUMvRkEsQ0FBQ0E7SUFFREQsa0NBQVFBLEdBQVJBLFVBQVNBLE1BQVdBO1FBQXBCRSxpQkEwQ0NBO1FBekNHQSxJQUFJQSxJQUFJQSxHQUFHQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFD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QUNBLGFBQWFBLENBQUNBLE1BQU1BLENBQUNBLE1BQU1BLENBQUNBLFNBQVNBLENBQUNBLENBQUNBO1FBQzFEQSxFQUFFQSxDQUFDQSxDQUFDQSxLQUFLQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNmQSxNQUFNQSxDQUFDQSxZQUFZQSxHQUFHQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUMzQ0EsQ0FBQ0E7UUFFREEsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7SUFDbEJBLENBQUNBO0lBQ0xGLHNCQUFDQTtBQUFEQSxDQUFDQSxBQW5ERCxJQW1EQztBQW5EWSx1QkFBZSxHQUFmLGVBbURaLENBQUE7QUFHRCxTQUFnQixTQUFTLENBQUMsR0FBYTtJQUNuQ0csTUFBTUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsVUFBQ0EsTUFBa0NBLEVBQUVBLEdBQVdBO1FBQzlEQSxNQUFNQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUNuQkEsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7SUFDbEJBLENBQUNBLEVBQThCQSxFQUFFQSxDQUFDQSxDQUFDQTtBQUN2Q0EsQ0FBQ0E7QUFMZSxpQkFBUyxHQUFULFNBS2YsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vLyBOb3QgdXNlZnVsIGZvciB1c2VyIGlucHV0IHZhbGlkYXRpb25cbi8vIEJ1dCBncmVhdCBmb3Igc2ltcGxlIGNvbmZpZyB2YWxpZGF0aW9uXG4vLyB3b3JrcyBvbmx5IGJ5IFwiblwiIHZhbGlkIG9wdGlvbnNcblxuZXhwb3J0IHZhciB0eXBlcyA9IHtcbiAgICBzdHJpbmc6ICdzdHJpbmcnLFxuICAgIGJvb2xlYW46ICdib29sZWFuJyxcbiAgICBudW1iZXI6ICdudW1iZXInLFxuICAgIG9iamVjdDogJ29iamVjdCcsXG4gICAgYXJyYXk6ICdhcnJheSdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYWxpZGF0aW9uSW5mbyB7XG4gICAgW25hbWU6IHN0cmluZ106IHtcbiAgICAgICAgdmFsaWRWYWx1ZXM/OiBzdHJpbmdbXTtcbiAgICAgICAgdHlwZT86IHN0cmluZztcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JzIHtcbiAgICBpbnZhbGlkVmFsdWVzOiBzdHJpbmdbXTtcbiAgICBleHRyYUtleXM6IHN0cmluZ1tdO1xuICAgIGVycm9yTWVzc2FnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgU2ltcGxlVmFsaWRhdG9yIHtcblxuICAgIHByaXZhdGUgcG90ZW50aWFsTG93ZXJDYXNlTWF0Y2g6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gICAgY29uc3RydWN0b3IocHVibGljIHZhbGlkYXRpb25JbmZvOiBWYWxpZGF0aW9uSW5mbykge1xuICAgICAgICB0aGlzLnBvdGVudGlhbExvd2VyQ2FzZU1hdGNoID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKHZhbGlkYXRpb25JbmZvKS5mb3JFYWNoKGs9PiB0aGlzLnBvdGVudGlhbExvd2VyQ2FzZU1hdGNoW2sudG9Mb3dlckNhc2UoKV0gPSBrKTtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZShjb25maWc6IGFueSk6IEVycm9ycyB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoY29uZmlnKTtcbiAgICAgICAgdmFyIGVycm9ycyA9IHsgaW52YWxpZFZhbHVlczogW10sIGV4dHJhS2V5czogW10sIGVycm9yTWVzc2FnZTogJycgfTtcbiAgICAgICAga2V5cy5mb3JFYWNoKGs9PiB7XG4gICAgICAgICAgICAvLyBDaGVjayBleHRyYSBrZXlzXG4gICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGlvbkluZm9ba10pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3RlbnRpYWxMb3dlckNhc2VNYXRjaFtrXSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMuZXh0cmFLZXlzLnB1c2goYEtleTogJyR7a30nIGlzIGEgcG90ZW50aWFsIGxvd2VyIGNhc2UgbWF0Y2ggZm9yICcke3RoaXMucG90ZW50aWFsTG93ZXJDYXNlTWF0Y2hba119Jy4gRml4IHRoZSBjYXNpbmcuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMuZXh0cmFLZXlzLnB1c2goYFVua25vd24gT3B0aW9uOiAke2t9YClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEbyB2YWxpZGF0aW9uXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsaWRhdGlvbkluZm8gPSB0aGlzLnZhbGlkYXRpb25JbmZvW2tdO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZTogYW55ID0gY29uZmlnW2tdO1xuICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uSW5mby50eXBlICYmIHZhbGlkYXRpb25JbmZvLnR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLmludmFsaWRWYWx1ZXMucHVzaChgS2V5OiAnJHtrfScgaGFzIGFuIGludmFsaWQgdHlwZTogJHt0eXBlb2YgdmFsdWV9YClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb25JbmZvLnZhbGlkVmFsdWVzICYmIHZhbGlkYXRpb25JbmZvLnZhbGlkVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkVmFsdWVzID0gdmFsaWRhdGlvbkluZm8udmFsaWRWYWx1ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkVmFsdWVzLnNvbWUodmFsaWQgPT4gdmFsaWQudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMuaW52YWxpZFZhbHVlcy5wdXNoKGBLZXk6ICcke2t9JyBoYXMgYW4gaW52YWxpZCB2YWx1ZTogJHt2YWx1ZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbkluZm8udHlwZSAmJiB0eXBlb2YgdmFsdWUgIT09IHZhbGlkYXRpb25JbmZvLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5pbnZhbGlkVmFsdWVzLnB1c2goYEtleTogJyR7a30nIGhhcyBhbiBpbnZhbGlkIHR5cGU6ICR7dHlwZW9mIHZhbHVlfWApXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB0b3RhbCA9IGVycm9ycy5pbnZhbGlkVmFsdWVzLmNvbmNhdChlcnJvcnMuZXh0cmFLZXlzKTtcbiAgICAgICAgaWYgKHRvdGFsLmxlbmd0aCkge1xuICAgICAgICAgICAgZXJyb3JzLmVycm9yTWVzc2FnZSA9IHRvdGFsLmpvaW4oXCJcXG5cIik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXJyb3JzO1xuICAgIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWFwKGFycjogc3RyaW5nW10pOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSB7XG4gICAgcmV0dXJuIGFyci5yZWR1Y2UoKHJlc3VsdDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0sIGtleTogc3RyaW5nKSA9PiB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCA8eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0+e30pO1xufVxuIl19